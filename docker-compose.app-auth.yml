# =============================================================================
# GitHub Runner - GitHub App Authentication Override
# =============================================================================
# Use this file when authenticating with a GitHub App instead of a PAT.
#
# Usage:
#   docker compose -f docker-compose.yml -f docker-compose.app-auth.yml up -d
#
# Or set COMPOSE_FILE in your environment:
#   export COMPOSE_FILE=docker-compose.yml:docker-compose.app-auth.yml
# =============================================================================

services:
  agent:
    environment:
      APP_PRIVATE_KEY: ${APP_PRIVATE_KEY:-/app/github-app.pem}
    volumes:
      - tool-cache:/opt/hostedtoolcache
      - ${APP_PRIVATE_KEY_FILE:-./github-app.pem}:/app/github-app.pem:ro
